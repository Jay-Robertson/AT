@model IEnumerable<Mavo.Assets.Models.ViewModel.PickAJobModel>

@{
    ViewBag.Title = "Job";
}

<h2>Job</h2>

<table class="table table-striped table-hover">
    <tr>
        <th>
            Job Site Name
        </th>
        <th>
            Job Number
        </th>
        <th>
            Pickup Time
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr class='@(item.Assets.Any(x => x.NotEnoughQuantity) ? "warning" : "")'>
            <td>
                @item.JobName
            </td>
            <td>
                @item.JobName
            </td>
            <td>
                @item.PickupTime
            </td>
            <td>
                <a data-toggle="modal" href="#pickupModal@(item.JobId)"class="btn btn-small btn-info"><i class="icon-lock"></i>&nbsp;Pick Job</a>
                @{Html.RenderPartial(MVC.Job.Views.Modals._PickJobModal, new Mavo.Assets.Models.Job() { Id = item.JobId, PickupTime = item.PickupTime, Name = item.JobName });}
            </td>
        </tr>
    }

</table>
